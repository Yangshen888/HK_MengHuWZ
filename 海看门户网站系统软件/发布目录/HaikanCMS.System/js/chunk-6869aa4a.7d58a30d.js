(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6869aa4a"],{"2f21":function(e,t,o){"use strict";var n=o("79e5");e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},"55dd":function(e,t,o){"use strict";var n=o("5ca1"),a=o("d8e8"),i=o("4bf8"),r=o("79e5"),s=[].sort,l=[1,2,3];n(n.P+n.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!o("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),a(e))}})},"5c1d":function(e,t,o){"use strict";var n=o("7d2f"),a=o.n(n);a.a},"626b":function(e,t,o){"use strict";var n=o("c985"),a=o.n(n);a.a},"7d2f":function(e,t,o){},b2eb:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("section",{staticClass:"dnc-toolbar-wrap"},[o("Row",{attrs:{gutter:16}},[o("Col",{attrs:{span:"16"}},[o("Form",{attrs:{inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[o("FormItem",{staticStyle:{margin:"15px 0"}},[o("Input",{staticStyle:{width:"300px"},attrs:{type:"text",search:"",clearable:!0,placeholder:"输入一级栏目名称搜索..."},on:{"on-search":function(t){return e.sleet()}},model:{value:e.stores.xxx1.query.kw,callback:function(t){e.$set(e.stores.xxx1.query,"kw",t)},expression:"stores.xxx1.query.kw"}})],1)],1)],1),o("Col",{staticClass:"dnc-toolbar-btns",staticStyle:{margin:"15px 0"},attrs:{span:"8"}},[o("Button",{directives:[{name:"can",rawName:"v-can",value:"create",expression:"'create'"}],attrs:{icon:"md-create",type:"primary",title:"添加栏目"},on:{click:e.handleShowCreateWindow}},[e._v("添加栏目")])],1)],1)],1)]),o("vxe-table",{attrs:{resizable:"","tree-config":{children:"children"},data:e.tableData,"checkbox-config":{labelField:"id",highlight:!0}},on:{"checkbox-change":e.selectChangeEvent}},[o("vxe-table-column",{attrs:{type:"checkbox",title:"ID",width:"160","tree-node":""}}),o("vxe-table-column",{attrs:{field:"columnTitle",title:"栏目标题"}}),o("vxe-table-column",{attrs:{field:"sortID",width:"150",title:"排序编号"}}),o("vxe-table-column",{attrs:{field:"addTime",width:"250",title:"添加时间"}}),o("vxe-table-column",{attrs:{title:"操作",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[o("Poptip",{attrs:{confirm:"",transfer:!0,title:"确定要删除吗?"},on:{"on-ok":function(t){return e.handleDelete(n)}}},[o("Tooltip",{attrs:{placement:"top",content:"删除",delay:1e3,transfer:!0}},[o("Button",{directives:[{name:"can",rawName:"v-can",value:"delete",expression:"'delete'"}],attrs:{type:"error",size:"small",shape:"circle",icon:"md-trash"}})],1)],1),o("Tooltip",{attrs:{placement:"top",content:"编辑",delay:1e3,transfer:!0}},[o("Button",{directives:[{name:"can",rawName:"v-can",value:"edit",expression:"'edit'"}],attrs:{type:"primary",size:"small",shape:"circle",icon:"md-create"},on:{click:function(t){return e.handleEdit(n)}}})],1)]}}])})],1),o("vxe-pager",{attrs:{perfect:"","current-page":e.stores.xxx1.query.currentPage,"page-size":e.stores.xxx1.query.pageSize,total:e.stores.xxx1.query.totalCount,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.stores.xxx1.query,"currentPage",t)},"update:current-page":function(t){return e.$set(e.stores.xxx1.query,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.stores.xxx1.query,"pageSize",t)},"update:page-size":function(t){return e.$set(e.stores.xxx1.query,"pageSize",t)},"page-change":e.vtpageChage}}),o("Drawer",{attrs:{title:e.formTitle,width:"800","mask-closable":!1,mask:!0,styles:e.styles},model:{value:e.formModel.opened,callback:function(t){e.$set(e.formModel,"opened",t)},expression:"formModel.opened"}},[o("Form",{ref:"fromcreat",attrs:{model:e.formModel.fields,rules:e.formModel.rules,"label-position":"top"}},[o("Row",{attrs:{gutter:16}},[o("FormItem",{attrs:{label:"栏目标题",prop:"columnTitle"}},[o("Input",{model:{value:e.formModel.fields.columnTitle,callback:function(t){e.$set(e.formModel.fields,"columnTitle",t)},expression:"formModel.fields.columnTitle"}})],1)],1),o("Row",{attrs:{gutter:16}},[o("FormItem",{attrs:{"label-position":"left",label:"上级栏目(未选择默认顶级栏目)",prop:"superiorUuid"}},[o("Select",{attrs:{filterable:""},model:{value:e.formModel.fields.superiorUuid,callback:function(t){e.$set(e.formModel.fields,"superiorUuid",t)},expression:"formModel.fields.superiorUuid"}},e._l(this.formModel.colum,function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),o("Row",{attrs:{gutter:16}},[o("FormItem",{attrs:{"label-position":"left",label:"栏目模型",prop:"columnModel"}},[o("Select",{attrs:{filterable:""},model:{value:e.formModel.fields.columnModel,callback:function(t){e.$set(e.formModel.fields,"columnModel",t)},expression:"formModel.fields.columnModel"}},e._l(this.sources.columnModelList,function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),o("Row",{attrs:{gutter:16}},[o("FormItem",{attrs:{label:"排序编号",prop:"sortId"}},[o("Input",{attrs:{placeholder:"排序编号"},nativeOn:{keyup:function(t){e.formModel.fields.sortId=e.formModel.fields.sortId.replace(/[^\d]/g,"")}},model:{value:e.formModel.fields.sortId,callback:function(t){e.$set(e.formModel.fields,"sortId",t)},expression:"formModel.fields.sortId"}})],1)],1),o("Row",{attrs:{gutter:16}},[o("FormItem",{attrs:{label:"是否置顶",prop:"isStick","label-position":"left"}},[o("i-switch",{attrs:{size:"large","true-value":1,"false-value":0},model:{value:e.formModel.fields.isStick,callback:function(t){e.$set(e.formModel.fields,"isStick",t)},expression:"formModel.fields.isStick"}},[o("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),o("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)],1),o("Row",{attrs:{gutter:16}},[o("FormItem",{attrs:{label:"栏目内容",prop:"columnContent"}},[o("ckeditor",{attrs:{id:"editor",editor:e.editor,config:e.editorConfig},on:{ready:e.onReady},model:{value:e.formModel.fields.columnContent,callback:function(t){e.$set(e.formModel.fields,"columnContent",t)},expression:"formModel.fields.columnContent"}})],1)],1)],1),o("div",{staticClass:"demo-drawer-footer"},[o("Button",{attrs:{icon:"md-checkmark-circle",type:"primary"},on:{click:e.handleSubmitCreate}},[e._v("保 存")]),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"md-close"},on:{click:function(t){e.formModel.opened=!1}}},[e._v("取 消")])],1)],1)],1)},a=[],i=(o("55dd"),o("f121"),o("dc44")),r=o("9584"),s=(o("c276"),o("2996")),l=o.n(s),d=(o("3962"),o("feb6")),u={name:"programa",components:{DzTable:i["a"]},data:function(){return{editor:l.a,editorConfig:{language:"zh-cn"},tableData:[],commands:{delete:{name:"delete",title:"删除"}},panduanrowid:0,rowid:"",val:"",usName:"",usGuid:"",clUuid:"",clNam:"",kaiguan:!0,dio:!0,modal1:!1,formModel:{accountmanager:[],columlist:[],selection:[],opened:!1,openeds:!1,rowUuid:"",columnUuid:"",mode:"",superName:"",fields:{columnUuid:"",columnTitleText:"",columnTitle:"",columnNum:"",addTime:"",addPeople:"",superiorUuid:"",superiorMenu:"",columnType:"",columnModel:"",columnUrl:"",columnPic:"",staue:"",columnWord:"",columnContent:"",columnVideo:"",columnAudio:"",columnFile:"",sortId:0,isStick:0},rules:{columnTitle:[{type:"string",required:!0,message:"请输入栏目标题"}]}},sources:{columnList:[],columnModelList:[{value:"默认栏目",label:"默认栏目"},{value:"列表栏目",label:"列表栏目"},{value:"新闻栏目",label:"新闻栏目"}],formSource:{menuTree:{data:[]}}},stores:{xxx1:{clientName:[{value:"",label:""}],cityList:[],query:{totalCount:0,pageSize:20,currentPage:1,isDeleted:0,status:-1,kw:"",kw1:"",sort:[{direct:"DESC",field:"ID"}]},data:[],sources:{allStatus:[],allTypes:[],allIndustry:[]},columns:[]},xxx2:{}},styles:{}}},computed:{formTitle:function(){return(this.formModel.mode="create")?"栏目信息":(this.formModel.mode="edit")?"栏目信息":void 0},selectRowsId:function(){return this.formModel.selection.map(function(e){return e.xxxUuid})}},created:function(){this.sleet()},methods:{onReady:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement()),e.plugins.get("FileRepository").createUploadAdapter=function(e){return new r["a"](e)}},dogetList:function(){var e=this;getList(this.stores.xxx1.query).then(function(t){console.log("返回的数据"),console.log(t),e.tableData=t.data.obj,e.stores.xxx1.query.totalCount=t.data.totalCount})},sleet:function(){var e=this;Object(d["b"])(this.stores.xxx1.query).then(function(t){console.log("返回的数据"),console.log(t),e.tableData=t.data.obj,e.stores.xxx1.query.totalCount=t.data.totalCount})},vtpageChage:function(e){var t=this;console.log(e),console.log(this.stores.xxx1.query),getList(this.stores.xxx1.query).then(function(e){console.log("返回的数据"),console.log(e),t.tableData=e.data.obj,t.stores.xxx1.query.totalCount=e.data.totalCount})},selectChangeEvent:function(e){var t=e.records;console.info("勾选".concat(t.length,"个树形节点"),t);for(var o="",n=0;n<t.length;n++)o+=t[n].columnUuid+",";console.info("勾选".concat(t.length,"个树形节点uuid"),o)},btnClickEdit:function(){this.doEditDispatch()},doEditDispatch:function(){var e=this,t=/^[^\s]+$/;t.test(this.formModel2.fields.clientName)?(console.log(this.formModel2.fields),editSave(this.formModel2.fields).then(function(t){200===t.data.code?(e.$Message.success(t.data.message),e.handleCloseFormWindow1(),e.sleet()):e.$Message.warning(t.data.message)})):this.$Message.warning(" 无效的名称")},handleEdit:function(e){this.handleSwitchFormModeToEdit(),this.handleResetFormDispatch123(),this.handleOpenFormWindow_xxx(),this.doLoadEditData(e.columnUuid)},handleSwitchFormModeToEdit:function(){this.formModel.mode="edit"},doLoadEditData:function(e){var t=this;Object(d["f"])({guid:e}).then(function(e){t.formModel.fields=e.data.data})},showInfo_xxx:function(e){this.clUuid=e.columnUuid,this.clNam=e.clientName,this.formModel6.fields.columnUuid=e.columnUuid,this.val="name1",this.handleOpenFormWindow(),this.handleResetFormDispatch2(),this.doLoadEditData3(e.columnUuid)},doLoadEditData3:function(e){var t=this;Object(d["f"])({guid:e}).then(function(e){console.log(e.data),t.formModel3.fields=e.data.data.query,t.formModel3.superName=e.data.data.supname}),this.doloadlxrList(e)},handleResetFormDispatch2:function(){this.$refs["formCarDispatch"].resetFields()},handleOpenFormWindow:function(){this.formModel3.opened=!0},handleResetFormh:function(){this.$refs["fromcreat"].resetFields()},rowClsRender_xxx:function(e,t){},handleDelete:function(e){this.doDelete(e.columnUuid)},doDelete:function(e){var t=this;e?Object(d["a"])(e).then(function(e){200===e.data.code?(t.$Message.success(e.data.message),t.sleet()):t.$Message.warning(e.data.message)}):this.$Message.warning("请选择至少一条数据")},handleRefresh_xxx:function(){this.sleet()},handleSelect:function(e,t){},handleSelectionChange:function(e){this.formModel.selection=e},handleSortChange:function(e){this.stores.user.query.sort.direction=e.order,this.stores.user.query.sort.field=e.key,this.loadVoteinitiateList()},handleSearchDispatch_xxx:function(){this.sleet()},handlePageChanged_xxx:function(e){this.stores.xxx1.query.currentPage=e,this.sleet()},handlePageSizeChanged_xxx:function(e){this.stores.xxx1.query.pageSize=e,this.sleet()},handleImport_xxx:function(){},handleBatchCommand_xxx:function(e){var t=this;!this.selectRowsId||this.selectRowsId.length<=0?this.$Message.warning("请选择至少一条数据"):this.$Modal.confirm({title:"操作提示",content:"<p>确定要执行当前 [删除] 操作吗?</p>",loading:!0,onOk:function(){t.doBatchCommand_xxx(e)}})},doBatchCommand_xxx:function(e){var t=this;batchCommand_xxx({command:e,ids:this.selectRowsId.join(",")}).then(function(e){200===e.data.code?(t.$Message.success(e.data.message),t.sleet(),t.formModel.selection=[]):t.$Message.warning(e.data.message),t.$Modal.remove()})},handleOpenFormWindow_xxx:function(){this.formModel.opened=!0},handleSwitchFormModeToEdit_xxx:function(){this.formModel.mode="edit"},handleSwitchFormModeToCreate_xxx:function(){this.formModel.mode="create"},handleEdit_xxx:function(e){this.handleSwitchFormModeToEdit_xxx(),this.handleOpenFormWindow_xxx()},handleShowCreateWindow:function(){this.handleSwitchFormModeToCreate_xxx(),this.handleResetFormDispatch123(),this.handleOpenFormWindow_xxx()},handleResetFormDispatch123:function(){this.$refs["fromcreat"].resetFields(),this.formModel.fields.superiorUuid="",this.formModel.fields.columnTitle="",this.formModel.fields.columnModel="",this.formModel.fields.columnContent="",this.formModel.fields.sortId=0},validateForm_xxx:function(){var e=this,t=!1;return this.$refs["fromcreat"].validate(function(o){o?t=!0:e.$Message.error("请完善表单信息")}),t},_xxx:function(){var e=this.validateForm_xxx();e&&("create"===this.formModel.mode&&this.doCreate_xxx(),"edit"===this.formModel.mode&&this.doEdit_xxx())},handleSubmitCreate:function(){var e=this.validateForm_xxx();e&&("create"===this.formModel.mode&&this.doCreate_xxx(),"edit"===this.formModel.mode&&this.doEdit_xxx())},doCreate_xxx:function(){var e=this;Object(d["d"])(this.formModel.fields).then(function(t){200===t.data.code?(e.$Message.success(t.data.message),e.handleResetFormDispatch123(),e.formModel.opened=!1,e.tableData=[],console.log(333),e.sleet()):e.$Message.warning(t.data.message)})},doEdit_xxx:function(){var e=this;Object(d["e"])(this.formModel.fields).then(function(t){200===t.data.code?(e.$Message.success(t.data.message),e.formModel.opened=!1,e.sleet()):e.$Message.warning(t.data.message)})},editmangerpower:function(){var e=this;save_manger(this.formModefenpei).then(function(t){e.formModefenpei.opened=!1,e.$Message.warning("成功"),e.sleet()})},naaccountmanager:function(e){var t=this;this.formModefenpei.rowUuid=e.clientManager,this.formModefenpei.columnUuid=e.columnUuid,this.formModefenpei.opened=!0,geallmanager().then(function(e){t.formModefenpei.accountmanager=e.data.data})},doCancel_xxx:function(){this.formModel3.opened=!1},doLoadMenuTree:function(e){var t=this;loadMenuTree().then(function(e){t.sources.formSource.menuTree.data=e.data.data})},handleMenuTreeSelectChange:function(e){var t=e[0];t&&(this.formModel2.fields.superiorUuid=t.guid,this.formModel2.superName=t.title)},handleMenuTreeSelectChange1:function(e){var t=e[0];t&&(this.formModel.fields.superiorUuid=t.guid,this.formModel.superName=t.title)},handleRefreshMenuTreeData:function(e){this.doLoadMenuTree(e||null)},doLoadMenuTree2:function(e){var t=this;loadMenuTree().then(function(e){t.sources.formSource1.menuTree.data=e.data.data})},supname:function(e){this.handleRefreshMenuTreeData2(e.columnUuid)},handleRefreshMenuTreeData2:function(e){this.doLoadMenuTree2(e||null)},handleMenuTreeSelectChange2:function(e){var t=e[0];t&&(this.formModel.fields.superiorUuid=t.guid,this.formModel.superName=t.title)},loadcolumnList:function(){var e=this;Object(d["c"])().then(function(t){console.log(9988),console.log(t),e.formModel.colum=t.data.data})},doloadlxrList:function(e){var t=this;loadSimpleList({guid:e}).then(function(e){t.xglxrlist=e.data.data})},testlxr:function(e){},Is_xxx:function(e){var t="未知";return t},CheckState:function(e){return 0==e?"否":1==e?"是":void 0},dateToString:function(e){var t=e.getFullYear(),o=e.getMonth()+1,n=e.getDate(),a=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return t+"-"+o+"-"+n+" "+a+":"+i+":"+r}},mounted:function(){this.loadcolumnList(),this.sleet()}},c=u,f=(o("5c1d"),o("626b"),o("2877")),m=Object(f["a"])(c,n,a,!1,null,null,null);t["default"]=m.exports},c985:function(e,t,o){},feb6:function(e,t,o){"use strict";o.d(t,"b",function(){return a}),o.d(t,"d",function(){return i}),o.d(t,"f",function(){return r}),o.d(t,"c",function(){return s}),o.d(t,"e",function(){return l}),o.d(t,"a",function(){return d});var n=o("66df"),a=function(e){return n["a"].request({url:"MenuTree/MenuTree/GetList",method:"post",data:e})},i=function(e){return n["a"].request({url:"MenuTree/MenuTree/Create",method:"post",data:e})},r=function(e){return n["a"].request({url:"MenuTree/MenuTree/loadEditData?guid="+e.guid,method:"get"})},s=function(e){return n["a"].request({url:"MenuTree/MenuTree/getcolumnList",method:"get"})},l=function(e){return n["a"].request({url:"MenuTree/MenuTree/edit",method:"post",data:e})},d=function(e){return n["a"].request({url:"MenuTree/MenuTree/delete/"+e,method:"get"})}}}]);